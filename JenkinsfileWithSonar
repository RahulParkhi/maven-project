pipeline
{
agent any
stages
{
  stage ('SCM Checkout')
  {
    steps
    {
      git branch: 'master', url: 'https://github.com/RahulParkhi/maven-project.git'
    }
  }
  stage ('Invoke maven goal with Sonarqube')
  {
    steps
    {
      withSonarQubeEnv(credentialsId: '70276e8740a7f3c0ccd8f1b80b0ac1c6c4e361ab', installationName:'JenkinsSonarInt')
      {
        withMaven(jdk: 'Java', maven: 'Maven')
        {
          sh 'mvn clean sonar:sonar package'
        }
      }
    }
   }
 }
}
